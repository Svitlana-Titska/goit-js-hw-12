import{a as p,S as h,i as c}from"./assets/vendor-Db2TdIkw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const L="49684805-156d2cdb1a1bccc9916216ec8",b="https://pixabay.com/api/";async function u(r,t=1){try{return(await p.get(b,{params:{key:L,q:r,page:t,per_page:15}})).data}catch(a){throw console.error(a),new Error("Щось пішло не так під час отримання зображень")}}const w=new h(".gallery a",{captionsData:"alt",captionDelay:250});function m(r){const t=document.querySelector(".gallery"),a=r.map(n=>`
        <a href="${n.largeImageURL}">
          <img src="${n.webformatURL}" alt="${n.tags}" />
        </a>
      `).join("");t.insertAdjacentHTML("beforeend",a),w.refresh()}function q(){const r=document.querySelector(".gallery");r.innerHTML=""}function f(){document.querySelector(".loader").classList.add("visible")}function s(){document.querySelector(".loader").classList.remove("visible")}function y(){document.querySelector(".load-more").classList.remove("hidden")}function g(){document.querySelector(".load-more").classList.add("hidden")}let i="",l=1;document.querySelector(".search-form").addEventListener("submit",async r=>{if(r.preventDefault(),i=r.target.elements.query.value.trim(),!!i){q(),g(),l=1;try{f();const t=await u(i,l);if(t.length===0){c.error({title:"Error",message:"No images found"}),s();return}m(t),y(),s()}catch{c.error({title:"Error",message:"Failed to load images"}),s()}}});document.querySelector(".load-more").addEventListener("click",async()=>{l+=1;try{f();const r=await u(i,l);r.length===0?(c.info({title:"Info",message:"You've reached the end of the results."}),g()):(m(r),y(),s(),window.scrollBy({top:window.innerHeight,behavior:"smooth"}))}catch{c.error({title:"Error",message:"Failed to load images"}),s()}});
//# sourceMappingURL=index.js.map
